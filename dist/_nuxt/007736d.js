(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{216:function(e,t){const n={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"frontmatter-markdown"},[e._m(0),e._v(" "),n("p",[e._v('Previous to Execution Logic we were using implemented script block into Viz Template Wizard for sending custom commands to VizENgine. We used to use the "Live Update" option. It was generating a lot of problems. Every "Live Update" template was generating extra load on a computer. When you opened or run a bunch of templates it was turning into a big extra problem with computer memory and сonsequently interface latency.')]),e._v(" "),n("media-image",{attrs:{name:"el-cover.png"}}),e._v(" "),n("p",[e._v('"EL" allows put control logic to MSE as backend service. And it allows use several VizPilot safely because each Pilot does not control VizEngine directly anymore. Pilot sends commands to MSE, and MSE decides what to do.')]),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),n("p",[e._v("It's so unusual... isn't it? :)")]),e._v(" "),n("p",[e._v("From Pilot 5.7 knowing EL has become must-have if you would like to create custom templates. For the beginning we need to know only basic elements and debug instruments.")]),e._v(" "),n("h2",[e._v("Basic stuff of Execution Logic")]),e._v(" "),n("p",[e._v("There are three things you have to know:")]),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),n("p",[e._v("Creating and using typical variable:")]),e._v(" "),e._m(5),e._v(" "),e._m(6),e._v(" "),e._m(7),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),n("p",[e._v("List of all options you can find in MSE documentation.")]),e._v(" "),n("h3",[e._v("2. Send commands to VizEngine")]),e._v(" "),e._m(13),e._v(" "),n("p",[e._v('A simple example with two commands send to "LowerThird" channel:')]),e._v(" "),e._m(14),e._v(" "),e._m(15),e._v(" "),e._m(16),e._v(" "),e._m(17),e._v(" "),e._m(18),e._v(" "),e._m(19),e._v(" "),n("h3",[e._v("3. Get data from template")]),e._v(" "),e._m(20),e._v(" "),e._m(21),e._v(" "),e._m(22),e._v(" "),e._m(23),e._v(" "),e._m(24),e._v(" "),n("p",[e._v("We've changed the global variable into the VizEngine which is in current Program channel in VizPilot ;)")]),e._v(" "),n("h2",[e._v("Debug Execution Logic")]),e._v(" "),n("p",[e._v("You can debug only by printing strings into consoles.")]),e._v(" "),e._m(25),e._v(" "),n("h3",[e._v("Update checking")]),e._v(" "),n("p",[e._v("Sometimes you need to be sure that new logic was updated in MSE.")]),e._v(" "),e._m(26),e._v(" "),n("media-image",{attrs:{name:"mse-master-templates.png"}}),e._v(" "),n("hr"),e._v(" "),n("br"),e._v(" "),e._m(27),e._v(" "),n("hr"),e._v(" "),n("br"),e._v(" "),n("p",[e._v("In the next part you will know:")]),e._v(" "),e._m(28)],1)},staticRenderFns:[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("blockquote",[n("p",[e._v('"Execution Logic" allows creating custom Pilot templates. It does not cancel scripts in Pilot templates for interface logic.')])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("EL is really different from ordinary programming languages like visual basic. EL is like traditional logic of scripting into XML form. Let's compare "),n("strong",[e._v("how to create and fill a variable")]),e._v(":")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",[n("thead",[n("tr",[n("th",[e._v("Visual Basic")]),e._v(" "),n("th",[e._v("Execution Logic")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[n("code",{pre:!0},[e._v('Dim s As String = "xyz"')])]),e._v(" "),n("td",[n("code",{pre:!0},[e._v('<def var="s">xyz</def>')])])])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ol",[n("li",[e._v("how to create and use "),n("strong",[e._v("variables")])]),e._v(" "),n("li",[e._v("how to "),n("strong",[e._v("send commands to Engine")])]),e._v(" "),n("li",[e._v("how to get "),n("strong",[e._v("data from template fields")]),e._v(" to put it into commands.")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h3",[e._v("1. Variables. "),n("code",{pre:!0},[e._v("<var>")]),e._v(" or "),n("code",{pre:!0},[e._v("<ref>")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pre",[n("code",{pre:!0,attrs:{class:"language-xml"}},[e._v('<def var="s">xyz</def>\n<var>s</var>\n')])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("By "),n("code",{pre:!0},[e._v("<var>")]),e._v(" you get the value of the variable.\nAlso, there is a list of ready useful system variables:")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pre",[n("code",{pre:!0,attrs:{class:"language-xml"}},[e._v("<var>channel</var>   \x3c!-- name of current channel --\x3e\n<var>profile</var>   \x3c!-- name of current profile --\x3e\n<var>element</var>   \x3c!-- path to current data-element --\x3e\n<var>scene</var>     \x3c!-- name of vizrt scene of current template --\x3e\n<var>viz_layer</var> \x3c!-- scene layer of current template --\x3e\n")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("And, if you want to get a part of VDOM tree use "),n("code",{pre:!0},[e._v("<ref>")]),e._v(":\n"),n("code",{pre:!0},[e._v("<ref>/custom_logic/take</ref>")]),e._v(' takes piece of VDOM tree contains custom logic of "take".')])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("blockquote",[n("p",[n("code",{pre:!0},[e._v("<var>")]),e._v(" just returns value of variable. "),n("code",{pre:!0},[e._v("<ref>")]),e._v(" returns and integrates part of the tree.")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h4",[e._v("Bonus variable: "),n("code",{pre:!0},[e._v("<time>")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("There is a special variable. This is the current time by format — "),n("code",{pre:!0},[e._v("<time>%c</time>")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pre",[n("code",{pre:!0,attrs:{class:"language-xml"}},[e._v('<log>Time: <time utc="yes">%H:%M:%S:%ff</time></log> \x3c!-- Time: 12:00:00:00 --\x3e\n<log>Now: <time>%Y %m %d %H:%M:%S</time></log> \x3c!-- Now: 2019 01 01 12:00:00 --\x3e\n')])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Useful in practice commands is "),n("code",{pre:!0},[e._v("<forked_exec>")]),e._v(" and "),n("code",{pre:!0},[e._v("<viz>")]),e._v(". "),n("code",{pre:!0},[e._v("<forked_exec>")]),e._v(" define the area where you can choose a channel of Pilot profile and send commands to this profile. And "),n("code",{pre:!0},[e._v("<viz>")]),e._v(" contains viz-command(s).")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pre",[n("code",{pre:!0,attrs:{class:"language-xml"}},[e._v('<forked_exec>\n\t<entry name="execution_group">LowerThird</entry>\n\t<viz>RENDERER GET</viz>\n\t<viz>RENDERER SET_OBJECT </viz>\n</forked_exec>\n')])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("code",{pre:!0},[e._v('<entry name="execution_group">')]),e._v(" defines profile within current "),n("code",{pre:!0},[e._v("<forked_exec>")]),e._v(".")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("code",{pre:!0},[e._v("<entry>")]),e._v(" often meets in VDOM, there is a name parameter which is important. "),n("code",{pre:!0},[e._v('name="execution_group"')]),e._v(' define "entry" with name of channel.')])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("If you want to send commands to defined Program channel you can use system variable "),n("code",{pre:!0},[e._v("<var>channel</var")]),e._v(". And, you can write several commands into one "),n("code",{pre:!0},[e._v("<viz>")]),e._v(' tag divided by "new line":')])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pre",[n("code",{pre:!0,attrs:{class:"language-xml"}},[e._v('<forked_exec>\n\t<entry name="execution_group"><var>channel</var></entry>\n\t<viz>\n\t\tRENDERER GET\n\t\tRENDERER SET_OBJECT\n\t</viz>\n</forked_exec>\n')])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v('If you don\'t want to wait a response of command you can add the parameter "no_responce" '),n("code",{pre:!0},[e._v('<viz no_responce="yes">')]),e._v('. This command runs a little bit faster but you can get some bugs if you start using it with no reason. "no_responce" commands run not consistently! The second command don\'t wait finished first.')])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v('If you have TextEdit with ControlName parameter = "123" you can get the content by '),n("code",{pre:!0},[e._v("<ref>")]),e._v(":")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pre",[n("code",{pre:!0,attrs:{class:"language-xml"}},[e._v("<ref><var>element</var>/data/123</ref>\n")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("There is the system standard variable "),n("code",{pre:!0},[e._v("<var>element</var>")]),e._v(". This is the path to current data-element into VDOM XML. We dig to data by "),n("code",{pre:!0},[e._v("/data/123")]),e._v(". And we are getting content of this part VDOM XML by "),n("code",{pre:!0},[e._v("<ref>")]),e._v(".")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("There is a "),n("strong",[e._v("full working example")]),e._v(":")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("pre",[n("code",{pre:!0,attrs:{class:"language-xml"}},[e._v('<forked_exec>\n\t<entry name="execution_group"><var>channel</var></entry>\n\t<viz no_response="yes">GLOBAL*MAP SET_STRING_ELEMENT Surname <ref><var>element</var>/data/surname</ref></viz>\n</forked_exec>\n')])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("code",{pre:!0},[e._v("<log><var>test</var></log>")]),e._v(" prints into MSE console. If you run MSE in console mode."),n("br"),e._v(" "),n("code",{pre:!0},[e._v("<viz><var>test</var></viz>")]),e._v(" sends command to VizEngine console. I prefer this way because MSE have a lot of garbage outputs that bothers me.")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ol",[n("li",[e._v("Launch VizPilot and open playlist with the template for checking.")]),e._v(" "),n("li",[e._v("Enter "),n("code",{pre:!0},[e._v("http://localhost:8580/app/vdomconfig/vdomconfig.html")]),e._v(" in a browser. Where "),n("code",{pre:!0},[e._v("localhost")]),e._v(" is the MSE host.")]),e._v(" "),n("li",[e._v("Dig down to "),n("code",{pre:!0},[e._v("external/master_templates/#####")]),e._v(". Where ##### is number your template. Obviously you won't know it, just go through all of the existing elements.")]),e._v(" "),n("li",[e._v("Look "),n("code",{pre:!0},[e._v("commands")]),e._v(" section. There are all your actual EL commands. Just check it visually.")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("em",[e._v("This information is enough to begin. You have known how to control Engine by template data.")]),n("br"),e._v(" "),n("br")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ol",[n("li",[e._v("if-else branch")]),e._v(" "),n("li",[e._v("delayed commands")]),e._v(" "),n("li",[e._v("infinity cycles")])])}]};e.exports={attributes:{title:"Execution Logic. Part 1",description:"Creating custom logic for custom vizrt template.",date:"2017-11-12 12:00:00 +0300",tags:"vcp vtw"},meta:{resourcePath:"/Users/dmitrydudin/vizrt/dudin.tv/content/articles/execution-logic-1.md"},vue:{component:{data:function(){return{templateRender:null}},render:function(e){return this.templateRender?this.templateRender():e("div","Rendering")},created:function(){this.templateRender=n.render,this.$options.staticRenderFns=n.staticRenderFns}}}}}}]);