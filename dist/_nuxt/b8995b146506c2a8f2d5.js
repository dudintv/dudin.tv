(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{233:function(e,t){const n={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"frontmatter-markdown"},[e._m(0),e._v(" "),n("hr"),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),n("p",[e._v("The script is a typical program. The only difference is in the level of abstraction. In classical languages, we operate with primitive data type like link, number, character. In scripts it's more convenient — high-level objects are already existing for use. For example, in vizrt-scripts, we work with containers and plugins, scenes and the engine. It's enough to assign a new position for the camera to make it to go over with natural consequences like view change.")]),e._v(" "),e._m(3),e._v(" "),n("p",[e._v("Learning any programming language contains three components:")]),e._v(" "),e._m(4),e._v(" "),n("media-image",{attrs:{name:"ProgrammingMindMap.png"}}),e._v(" "),n("p",[e._v("Data storage form and logical constructions are common for most programming languages. They have difference only in syntax. It's easy to learn during working because any mistakes are marked automatically by the compiler.")]),e._v(" "),e._m(5),e._v(" "),n("p",[e._v("Good news! There are only 7 concepts that need to be remembered and understood for the beginning. All the rest is a combination of them and syntactic features.")]),e._v(" "),e._m(6),e._v(" "),n("h2",[e._v("1. Variable")]),e._v(" "),n("p",[e._v("The basic entity of programming. Variable is a link to a certain area of data. You can get by the name of a variable: a simple number, a text string, an array value or object (about arrays and objects a bit later)...")]),e._v(" "),e._m(7),e._v(" "),n("p",[e._v('A typical expression contains a left side variable, "=" sign and right side of an expression. The compiler first calculates value in the right side, then put the value to the left side variable. This is the reason why the left part can contain only one variable — it must be a place for data storing. But in the right part of expression can contain any expression.')]),e._v(" "),e._m(8),e._v(" "),e._m(9),e._v(" "),n("p",[e._v("We can conditionally divide the variables into pre-existing and custom:")]),e._v(" "),e._m(10),e._v(" "),e._m(11),e._v(" "),e._m(12),e._v(" "),n("h3",[e._v("Variable types")]),e._v(" "),n("h4",[e._v("Basic variable:")]),e._v(" "),n("table",[e._m(13),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("Integer")]),e._v(" "),n("td",[n("strong",[e._v("Dim i As Integer")]),e._v(" "),n("br"),e._v(" integer number (no floating point), represents integer from −2,147,483,648 to 2,147,483,647. Suit for counters and something which can be only integer. "),n("br"),e._v(" "),n("media-image",{attrs:{name:"Integer.png"}})],1)]),e._v(" "),n("tr",[n("td",[e._v("Double")]),e._v(" "),n("td",[n("strong",[e._v("Dim f As Double")]),e._v(" "),n("br"),e._v(" Rational floating point number declaring in memory as an integer ("),n("em",[e._v("fraction")]),e._v(") multyplied by 10 in some degree ("),n("em",[e._v("exponent")]),e._v("). Thus, float number can cover a huge range of numbers from 10"),n("sup",[e._v("−308")]),e._v(" to 10"),n("sup",[e._v("308")]),e._v(". For example, "),n("code",{pre:!0},[e._v("f = 3,1415926535")]),e._v(" "),n("br"),e._v(" "),n("media-image",{attrs:{name:"Double.png"}}),e._v(" Float variable takes 64 bits.")],1)]),e._v(" "),e._m(14),e._v(" "),e._m(15)])]),e._v(" "),n("h4",[e._v("Complex variables:")]),e._v(" "),e._m(16),e._v(" "),n("h4",[e._v("Vizrt variable:")]),e._v(" "),e._m(17),e._v(" "),n("ul",[n("li",[e._v("The best practice is placing defining of all variables in the beginning of the script. Some variables are sometimes used like parameters with some default values. "),n("media-image",{attrs:{name:"Defining-variables.png"}})],1)]),e._v(" "),n("h3",[e._v("Conversion between data types")]),e._v(" "),e._m(18),e._v(" "),n("h2",[e._v("2. Branching")]),e._v(" "),e._m(19),e._v(" "),n("p",[e._v("Simple example from practice:")]),e._v(" "),e._m(20),e._v(" "),n("p",[e._v('With the standard conversion of the number into a string, the symbol "+" will not be added as expected. How to reveal the number with a "+" sign if the temperature above zero? "If else" help us. If a temperature greater than zero we get merging "+" with a number. If not then it\'s nothing to add.')]),e._v(" "),n("p",[e._v('Question for self-test. Which do we get "output" if the temperature will be equal 0?')]),e._v(" "),e._m(21),e._v(" "),n("h2",[e._v("3. Array")]),e._v(" "),n("p",[e._v("Frequently needed to store a list of some data. For example, a set of chart values. Creating unique variables for each value is cumbersome and extremely inconvenient for further processing.")]),e._v(" "),e._m(22),e._v(" "),n("p",[e._v("or like this, more compact, but it's bad yet:")]),e._v(" "),e._m(23),e._v(" "),n("p",[e._v("The simplest and convinient way is declare a variable as array data.")]),e._v(" "),e._m(24),e._v(" "),e._m(25),e._v(" "),e._m(26),e._v(" "),e._m(27),e._v(" "),e._m(28),e._v(" "),n("p",[e._v("To get experience all the benefits of arrays, let's explore the loops.")]),e._v(" "),n("h2",[e._v("4. Loop")]),e._v(" "),e._m(29),e._v(" "),e._m(30),e._v(" "),e._m(31),e._v(" "),n("p",[e._v('Another kind of loop is "do while loop" syntax.')]),e._v(" "),e._m(32),e._v(" "),e._m(33),e._v(" "),n("p",[e._v("Note, any loop may be infinite! It's a very bad thing within vizrt-script. Infinity loop blocks the whole system! If VizEngine (VizArtist) catch this, it just emergency shutdowns the script until you restart it by hand or scene will be reloaded. So, please analyze a condition carefully. Have the condition any end value?")]),e._v(" "),n("p",[e._v("Most popular using of the loop is an array traversal. For example, let's calculate the arithmetic average in an array of numbers:")]),e._v(" "),e._m(34),e._v(" "),n("p",[e._v("Exercise: write the script to find the minimum and the maximum values among array values.")]),e._v(" "),e._m(35),e._v(" "),n("h2",[e._v("5. Function and subroutine")]),e._v(" "),n("p",[e._v("Function or subroutine is a named set of commands you can call from any place of the script. It's convinient for two cases:")]),e._v(" "),e._m(36),e._v(" "),n("p",[e._v("Function or subroutines are similar to variables. By name of variable we get access to the data, we can read or rewrite. By name of function we call the code.")]),e._v(" "),e._m(37),e._v(" "),e._m(38),e._v(" "),e._m(39),e._v(" "),e._m(40),e._v(" "),n("p",[e._v("Note:")]),e._v(" "),e._m(41),e._v(" "),e._m(42),e._v(" "),e._m(43),e._v(" "),n("h3",[e._v('The differences between "Sub" and "Function":')]),e._v(" "),e._m(44),e._v(" "),n("h2",[e._v("6. Object")]),e._v(" "),n("p",[e._v('The object is the way to controlling data and functions more like in real life. We intuitively define each object in the life some properties and abilities to do something. For example, some dog has 5-year-old, pink colour, etc... Thus, programming "objects" just reflects reality. It\'s like a list or array, but with different data types and functions. For example, object "Container" contains properties "Name", "Active"(visibility), "Count of sub-containers", etc... "Container" also has functions "Create new sub-container", "Get first sub-object", etc... All possible variables and functions are in the documentation! Please feel free to look there! ;)')]),e._v(" "),e._m(45),e._v(" "),e._m(46),e._v(" "),e._m(47),e._v(" "),n("p",[e._v('Some functions of the object return another object. For example, let\'s get an "Omo" plugin on the current container and change counter of visible sub-object:')]),e._v(" "),e._m(48),e._v(" "),n("p",[e._v("Note:")]),e._v(" "),e._m(49),e._v(" "),e._m(50),e._v(" "),e._m(51),e._v(" "),n("h2",[e._v("7. Callback function (Event)")]),e._v(" "),e._m(52),e._v(" "),n("p",[e._v("The callback function is a function that is called automatically by an external event. VizEngine tries to find in your script the appropriate function in the event moment. If VizEngine finds it then calling it. Therefore, the format of callback functions is so strong. You can't change the name of function and order input data. But there is a little convenient. Full list of all possible callback function is right at hand. Thus, you don't need you to remember them.")]),e._v(" "),n("h3",[e._v("List of avaliable callbacks")]),e._v(" "),n("media-image",{attrs:{name:"EventList.png"}}),e._v(" "),e._m(53),e._v(" "),e._m(54),e._v(" "),n("p",[e._v("So, the initializing happens very rare and only when it needs. ;)")]),e._v(" "),e._m(55),e._v(" "),e._m(56),e._v(" "),e._m(57),e._v(" "),n("p",[e._v("Note:")]),e._v(" "),e._m(58),e._v(" "),n("p",[e._v("If add this script to any container, it will start to rotate counterclockwise one turn by one-second approximately.\nIf your render has 60 fps, it will rotation little faster.")]),e._v(" "),e._m(59),e._v(" "),e._m(60),e._v(" "),e._m(61),e._v(" "),n("h2",[e._v("Homework")]),e._v(" "),e._m(62)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Learn more: "),t("br"),this._v(" "),t("a",{attrs:{href:"https://vizuniversity.learnupon.com/store/491253-viz-artist-introduction-to-scripting",target:"_blank"}},[this._v('"Viz Artist Introduction to Scripting" free cource on Viz University')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Why do we need scripts in VizArtist? "),t("br"),this._v("\nAll the more so we have got a lot of ready plugins...")])},function(){var e=this.$createElement,t=this._self._c||e;return t("blockquote",[t("p",[this._v("I like scripting because it enables to get non-existed functionality or remake existing with new options. You can significantly speed up your work, including creating complex structures, keyframes, etc. You can automize processes of getting and processing of data within a scene. Also, you can import coordinates of camera and objects from AE. The right way to create interactive elements is to use a script.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The script is like a program. It works as an automate taking input data and giving result during a process. Input data can be anything like current container, position, mouse click or button-pushing... A result is also anything like changing of a parameter, creating or deleting anything. "),t("em",[this._v("Of course, a script can return nothing. But why would we write it?")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("Form of data storage — variables, arrays, objects")]),this._v(" "),t("li",[this._v("Logical constructions — branches, loops, functions")]),this._v(" "),t("li",[this._v("Syntax — rules of code writing to make compiler understands it "),t("a",{attrs:{href:"https://en.wikipedia.org/wiki/Compiler",target:"_blank"}},[this._v("Wikipedia")]),this._v('. In VizArtist we use language which is called "Viz 3 Script".')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("If you are a newbie in programming I strongly recommend you to watch a free online course "),t("a",{attrs:{href:"https://www.youtube.com/playlist?list=PLhQjrBD2T382eX9-tF75Wa4lmlC7sxNDH"}},[this._v('"CS 50" from Harvard')]),this._v(". The main idea you should endure is that the computer does exactly what you tell to do. Without auto thinking out, without auto assumptions, without auto finishing! You are fully responsible for what script does. In the best case, the computer will only prompt the line where is most likely an error.")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ol",[n("li",[e._v("Variable")]),e._v(" "),n("li",[e._v("Branches (if else)")]),e._v(" "),n("li",[e._v("Array")]),e._v(" "),n("li",[e._v("Loop")]),e._v(" "),n("li",[e._v("Function")]),e._v(" "),n("li",[e._v("Object")]),e._v(" "),n("li",[e._v("Callback function")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v('Side of the variable location around "=" is important. Example: '),n("code",{pre:!0},[e._v("x = y + z")]),e._v('. If it located on the right from "=" ('),n("code",{pre:!0},[e._v("y")]),e._v(" and "),n("code",{pre:!0},[e._v("z")]),e._v('), it converted into the values. If it located on the left from "=" ('),n("code",{pre:!0},[e._v("x")]),e._v("), it used for storing new value.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v("angle = 360\nnew_angle = angle + 10\n")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[n("em",[e._v("The variable "),n("strong",[e._v("new_angle")]),e._v(" will have got 370. "),n("code",{pre:!0},[e._v("angle + 10")]),e._v(" -> "),n("code",{pre:!0},[e._v("360 + 10")]),e._v(" -> "),n("code",{pre:!0},[e._v("370")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("If you need pre-existing system variable — go to the documentation and find out how to name it. Just call it by name in the script.")]),this._v(" "),t("li",[this._v("You can create your own variables. Then you can use them wherever you want. But it can be used within the script where it was declared.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",{pre:!0},[this._v("Dim s As String")]),this._v(" — this is creating (declaring) of the string variable.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Vizrt-script is typed programming language. It's mean that all variables must be links to a particular type of data. No possible to declare a variable without type "),t("s",[t("code",{pre:!0},[this._v("Dim var")])]),this._v('. If you want to create a universal variable you can declare special type "Variant" '),t("code",{pre:!0},[this._v("Dim var As Variant")]),this._v(". But the best way is to specify a particular data type! Thus you forbid to compiler put text to a number variable. But if you want to convert type you can do it anytime by system functions like "),t("code",{pre:!0},[this._v('var = CInt("42")')]),this._v(' (we got number 42 from string "42").')])},function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[this._v("Type")]),this._v(" "),t("th",[this._v("Description")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[this._v("String")]),this._v(" "),t("td",[t("strong",[this._v("Dim s As String")]),this._v(" "),t("br"),this._v(" Text. Any chars, line breaks, etc in any encoding "),t("code",{pre:!0},[this._v('s = "String\\nText"')])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("tr",[t("td",[this._v("Boolean")]),this._v(" "),t("td",[t("strong",[this._v("Dim enable As Boolean")]),this._v(" "),t("br"),this._v(' Boolean variable represent only "true" or "false" '),t("code",{pre:!0},[this._v("enable = true")]),this._v(".")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("table",[n("thead",[n("tr",[n("th",[e._v("Variable")]),e._v(" "),n("th",[e._v("Description")])])]),e._v(" "),n("tbody",[n("tr",[n("td",[e._v("Vertex")]),e._v(" "),n("td",[n("strong",[e._v("Dim pos As Vertex")]),e._v(" "),n("br"),e._v(" Tripple set of double-values. Perfect suit for store coordintes in 3D space: position, rotation, scaling. Vertex have access to separate axes x, y, z: "),n("code",{pre:!0},[e._v("pos.x")]),e._v(", "),n("code",{pre:!0},[e._v("pos.y")]),e._v(", "),n("code",{pre:!0},[e._v("pos.z")]),e._v(".")])]),e._v(" "),n("tr",[n("td",[e._v("Array")]),e._v(" "),n("td",[n("strong",[e._v("Dim arr As Array[Double]")]),e._v(" "),n("br"),e._v(" Collection(list) of data in some single type. Adding new element: "),n("code",{pre:!0},[e._v("arr.Push(3,14159)")]),e._v(". Geting first element: "),n("code",{pre:!0},[e._v("arr[0]")])])]),e._v(" "),n("tr",[n("td",[e._v("Stringmap")]),e._v(" "),n("td",[n("strong",[e._v("Dim map As Stringmap")]),e._v(" "),n("br"),e._v(" Named universe collection of Variant data type. You can store there any data type. Access to each element is by string. For example "),n("code",{pre:!0},[e._v('map["age"] = 100')]),e._v(" (integer) or "),n("code",{pre:!0},[e._v('map["name"] = "Dmitry"')]),e._v(" (string). If the element not exists it will be created.")])]),e._v(" "),n("tr",[n("td",[e._v("Datetime")]),e._v(" "),n("td",[n("strong",[e._v("Dim dt As Datetime")]),e._v(" "),n("br"),e._v(" It's for storing date and time. You can use only date or only time. "),n("code",{pre:!0},[e._v("dt = GetCurrentTime()")]),e._v(".")])]),e._v(" "),n("tr",[n("td",[e._v("Matrix")]),e._v(" "),n("td",[n("strong",[e._v("Dim m As Matrix")]),e._v(" "),n("br"),e._v(" Matrix 4*4 of double-values.")])]),e._v(" "),n("tr",[n("td",[e._v("Variant")]),e._v(" "),n("td",[n("strong",[e._v("Dim m As Variant")]),e._v(" "),n("br"),e._v(" A universal variable for storing anything. You can put in any data type.")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Container")]),this._v(" (link on some container in scene tree), "),t("strong",[this._v("Director")]),this._v(" (animational director in the stage), "),t("strong",[this._v("Keyframe")]),this._v(" (a key of animation), Color, Material, Camera, Grid, Light, Texture, Channel, PluginInstance, FunctionPluginInstance, Clipchannel.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("You can always change the data type by system functions as needed: "),t("code",{pre:!0},[this._v("CInt(var), CDbl(var), CStr(var), CBool(var)")]),this._v(". And there is a special function to turning from Double to String "),t("code",{pre:!0},[this._v("DoubleToString(value, precision)")]),this._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Key benefits of any scripts are the branching — this is the ability to choose what to do along with a condition. In vizrt-script this realized by a construction "),t("code",{pre:!0},[this._v("If [condition] Then [do #1] Else [do #2] End If")]),this._v(". Where instead "),t("code",{pre:!0},[this._v("condition")]),this._v(' must be a conditional value (boolean type). If you need only [do #1]—block than "Else [do #2]" you can drop out (don\'t write it).')])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v('Dim temperature As Double = 17\nDim output As String\n\nIf temperature > 0 Then\n\toutput = "+" & CStr(temperature)\nElse\n\toutput = CStr(temperature)\nEnd If\n')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("details",[t("summary",[this._v("Show the answer")]),this._v('\nVariable "output" is equal to the string "0". Because 0 is not greater than 0. Thus, we passed by the "true" branch and run only "false" part where we add nothing. 0 is not a negative number, so there isn\'t a minus sign. Good.\n')])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v("Dim value1 As Double\nDim value2 As Double\nDim value3 As Double\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v("Dim value1, value2, value3 As Double\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v("Dim values As Array[Double]\n")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("To get or write the value in a specific cell of the array, you need to refer to its index "),n("code",{pre:!0},[e._v("values[3]")]),e._v(".")]),e._v(" "),n("li",[e._v("Index isn't a serial number! "),n("strong",[e._v("The index determines the offset from the beginning of the array!")]),e._v(" For getting the first value you need to refer zero index "),n("code",{pre:!0},[e._v("values[0]")]),e._v(". Because "),n("code",{pre:!0},[e._v("[0]")]),e._v(" is a zero shifting from the beginning.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Question for self-test. What is the minimum number of elements the array should contain so that the script does not generate an error with "),t("code",{pre:!0},[this._v("values[3]")]),this._v("?")])},function(){var e=this.$createElement,t=this._self._c||e;return t("details",[t("summary",[this._v("Show answer")]),this._v(" "),t("code",{pre:!0},[this._v("values[3]")]),this._v(" — this is fourth element of array. That means array must contain 4 elements at least.\n")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v('Sweety bonus. You can get element not only from the beginning of the array but from the end! To take the last element of the array, specify "-1" '),t("code",{pre:!0},[this._v("values[-1]")]),this._v(". It's much easier and human-readable than "),t("code",{pre:!0},[this._v("values[values.ubound]")]),this._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Loop is a repeated part of code while the condition is true. There are three syntax styles of a loop in vizrt-scripts. Now we take only the most practical variant "),t("code",{pre:!0},[this._v("For [start] to [end] [do something many times] Next")]),this._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("In "),t("code",{pre:!0},[this._v("start")]),this._v(" sets some default value for variable-counter. It increments by 1 with each repetition until value reaches to "),t("code",{pre:!0},[this._v("end")]),this._v(" value.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v("For i=0 to 10\n\tarray[i] = i\nNext\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v('Dim i As Integer = 1\n\nDo While i < 100\n\ti = i * i + 1\n\tprintln("i = " & i)\nLoop\n')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("code",{pre:!0},[this._v("For Next")]),this._v(" is more convenient for arrays. "),t("code",{pre:!0},[this._v("Do While Loop")]),this._v(" more useful when you don't know how long it will work.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v("Dim sum, medium As Double\nDim values As Array[Double]\n\nsum = 0\nFor i=0 to values.size-1\n\tsum = sum + values[i]\nNext\nmedium = sum/values.size\n")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("details",[n("summary",[e._v("Show answer")]),e._v(" "),n("pre",[n("code",{pre:!0,attrs:{class:"language-basic"}},[e._v('Dim values As Array[Double]\n\' fill up the "values"...\n\nDim min, max As Double\nmin = values[0]\nmax = values[0]\nFor i=1 to values.ubound\n\tIf values[i] < min Then min = values[i]\n\tIf values[i] > max Then max = values[i]\nNext\n')])]),e._v(" "),n("h3",[e._v("Note:")]),e._v(" "),n("ul",[n("li",[e._v('I used one-line "If" syntax. In this case "End If" is not obliged.')]),e._v(" "),n("li",[e._v("loop starts from second element of array "),n("code",{pre:!0},[e._v("For i=1")]),e._v(", because we already considered the first element before the loop.")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ol",[t("li",[this._v("When you need to cut off a duplicating piece of code.")]),this._v(" "),t("li",[this._v("For comfort, when you want to make script more human readable and structured code.")]),this._v(" "),t("li",[this._v("To split code into separated actions which you can run independently.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("There is only difference in constructs "),t("code",{pre:!0},[this._v("function")]),this._v(" and "),t("code",{pre:!0},[this._v("sub")]),this._v(", function always must return some value. But subroutine never return anything. Both construction can change something in enviroment like a global variable, object position and so on...")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Also, both constrinction can receive some input data. For exmaple, "),t("code",{pre:!0},[this._v("Sub fn(value1 As Integer)")]),this._v(" recieves one value integer datatype. The variable defines automatically inside the subroutine and avaliable inside "),t("code",{pre:!0},[this._v("Sub")]),this._v(" only. This variable will be auto deleted after the "),t("code",{pre:!0},[this._v("Sub")]),this._v(" is ended.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v('Lets create a function for convertion number to string by "temperature rule". Because we need returning value we have to use '),t("code",{pre:!0},[this._v("Function")]),this._v(".")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v('Function ConvertToTextTemp(input As Double) As String\n\tIf input > 0 Then\n\t\tConvertToTextTemp = "+" & CStr(input)\n\tElse\n\t\tConvertToTextTemp = CStr(input)\n\tEnd If\nEnd Function\n\nDim str As String = ConvertToTextTemp(17)\nprintln(str)\nprintln(ConvertToTextTemp(-3))\n')])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("the line of function defining has the data type of returning value")]),e._v(" "),n("li",[e._v("to return the value, just assign the output value to the function name")]),e._v(" "),n("li",[e._v("I used system subroutine "),n("code",{pre:!0},[e._v("println")]),e._v(" for printing text string into the console. This subroutine is very useful for finding errors in code (debug). "),n("em",[e._v("You can copy and paste this code and try to rut it. Don't forget to look into the console ;)")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Subroutine")]),this._v(" (that haven't return value) is defined and used as a function. Only you don't need to define the return data type and don't return.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v('Sub PrintTemp(input As Double)\n\tIf input > 0 Then\n\t\tprintln("+" & CStr(input))\n\tElse\n\t\tprintln(CStr(input))\n\tEnd If\nEnd Sub\n\nPrintTemp(17)\nPrintTemp(-3)\n')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v('instead "Function" is written "Sub"')]),this._v(" "),t("li",[this._v('"Sub" returns nothing — so, returned type specified only in "Function"')]),this._v(" "),t("li",[this._v('if I want to affect to containers or the scene I write it inside a "Sub". If I want to calculate something and use returned value inside the script I use "Function"')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v('Access to all properties and functions of an object gets by dot character "." — for example '),t("code",{pre:!0},[this._v("container.name")]),this._v(". You can call sub-object and sub-properties consistently through points  "),t("code",{pre:!0},[this._v("this.alpha.value")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v('Some properties can have the status "read only". It can be read but not changed. All other properties you can read and rewrite. For example, we can get the name of container '),t("code",{pre:!0},[this._v("println(this.name)")]),this._v(" or rename it "),t("code",{pre:!0},[this._v('this.name = "new_name"')]),this._v('. But we can\'t change directly "Count sub-containers" property. The property will be changed if we change the real count of sub-containers.')])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v('by the way, the variable "this" refers to the current container where script placed')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v('Dim pi_omo As PluginInstance\npi_omo = this.GetFunctionPluginInstance("Omo")\npi_omo.SetParameterInteger("vis_con", 3)\n')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("ul",[t("li",[this._v("pi_omo variable is unusual datatype like Double or String. PluginInstance objects that represent a plugin. You can find all possible objects in the documentation. There is written certain datatype of function return.")]),this._v(" "),t("li",[this._v("because PluginInstance is the universal datatype of any plugins, it hasn't directly access to \"vis_con\" properties. Unfortunately, it's not possible to write "),t("s",[t("code",{pre:!0},[this._v("pi_omo.vis_con = 3")])]),this._v(". Therefore, it lets use build-in function of setting up the parameter of integer type "),t("code",{pre:!0},[this._v('SetParameterInteger("vis_con", 3)')]),this._v(". The order of the input values is in the documentation.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("There is not possible to create your own new type object. :( We can say that all object reflects some existing entity of VizEngine or scene. But you can create your own structures! The structure is the same as an object... but it has only properties, without functions. Details and examples later (or take a look in the documentation). "),t("em",[this._v("The need for structures is really rare in scripts.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("a",{attrs:{name:"callback"}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("This isn't a basic thing. But using of events we met very often into the vizrt scripts and you should know them from the beginning.")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("Of course, you can call callback functions by hand if it needs. For example, there is "),n("code",{pre:!0},[e._v("OnInit()")]),e._v("  function where must be placed start assigns. This code will be launched automatically just after starting the script and after scene loading. If I need to set variables to defaults I can call "),n("code",{pre:!0},[e._v("OnInit()")]),e._v(" where I want in my code. I do that usually when I want to refresh links to container and properties from the script interface. Any changing of interface calls callback function "),n("code",{pre:!0},[e._v("OnParameterChanged()")]),e._v(". I just put "),n("code",{pre:!0},[e._v("OnInit()")]),e._v(" into the "),n("code",{pre:!0},[e._v("OnParameterChanged()")]),e._v(":")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v('Sub OnInit()\n\tscale = GetParameterDouble("scale")\n\ttarget = GetParameterContainer("target")\nEnd Sub\n\nsub OnParameterChanged(parameterName As String)\n\tOnInit()\nEnd Sub\n')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("The most popular callback function (event) in the event of render frame tick — "),t("code",{pre:!0},[this._v("OnExecPerField")]),this._v(". The function automatically is calling in each frame. Warning! "),t("em",[this._v("Do, not accurate timer based on the OnExecPerField function.")]),this._v(" Even in the best performance computer, FPS isn't equal to 50 always. But for most common applications is enough. :)")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Example of using "),t("code",{pre:!0},[this._v("OnExecPerField")]),this._v(": there is 360 degrees rotation for some count frames (50 is about second).")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v("Dim angle As Double = 0\nDim step As Double = 360.0/50.0\n\nSub OnExecPerField()\n\tangle += step\n\tif angle >= 360 then angle = 0\n\tthis.rotation.z = angle\nEnd Sub\n")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",[n("li",[e._v("I used short form of increment "),n("code",{pre:!0},[e._v("angle += step")]),e._v(". Of course, I could write "),n("code",{pre:!0},[e._v("angle = angle + step")]),e._v('. But the short form is more understandable and shorter ;) I\'ve told to the program "Please increase angle by step" — '),n("code",{pre:!0},[e._v("angle += step")]),e._v(".")]),e._v(" "),n("li",[e._v("I added float dots into dividing "),n("code",{pre:!0},[e._v("360.0/50.0")]),e._v(". I did this especially to avoiding "),n("a",{attrs:{href:"https://stackoverflow.com/questions/7286681/why-does-integer-division-code-give-the-wrong-answer/39286090"}},[e._v("integer division errors")]),e._v(". I clarify to the compiler that it's must not simplify here and, please, divide them as rational numbers (as float, not integer).")]),e._v(" "),n("li",[e._v("I didn't check strict equality "),n("code",{pre:!0},[e._v("if angle == 360")]),e._v("! I have to check it with some margin in case of calculation accuracy error "),n("code",{pre:!0},[e._v("if angle >= 360")]),e._v('. This way I guarantee reliability the script. And, it\'s the "best practice".')])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("One more example with "),t("code",{pre:!0},[this._v("OnExecPerField()")]),this._v(". Try to understand what it does?")])},function(){var e=this.$createElement,t=this._self._c||e;return t("pre",[t("code",{pre:!0,attrs:{class:"language-basic"}},[this._v("Dim step As Double = 2.0\n\nSub OnExecPerField()\n\tthis.alpha.value -= step\n\tif this.alpha.value <= 0 then this.alpha.value = 100.0\nEnd Sub\n")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("details",[t("summary",[this._v("Show answer")]),this._v("\n\tIt's just a simple effect of blinking. Object reveals in a flash and smoothly hides in 50 frames (by alpha).\n")])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ol",[n("li",[n("p",[e._v("Rewrite the script of rotations for the ability to drop it to dozen object and it wouldn't have a similar angle of rotation. "),n("em",[e._v('Hint: random number gets by system function Random(360), where "360" is the maximum value, and the minimum is zero always.')])])]),e._v(" "),n("li",[n("p",[e._v("Write a script that will shake the current container by rotation. For example, 10 degrees to and fro. Make it with easy changing shaking degree as a default setting. Additional task: add extra shaking by position.")])]),e._v(" "),n("li",[n("p",[n("strong",[e._v("More difficult task")]),e._v(' You will have to look in documentation;) Write a script for "infinity" shifting of looped texture on the current container. '),n("em",[e._v("Hint: the whole loop of the texture is 10 only if the texture scale is 1.")])])])])}]};e.exports={attributes:{title:"Vizrt script. Part 1",description:"To get non-existed functionality or remake existing with new options. Significantly speed up your work, including creating complex structures, keyframes, etc",date:"2019-01-04 12:00:00 +0300",tags:"artist"},meta:{resourcePath:"/Users/svetozar/rails/dudin.tv/content/articles/vizrt-script-1.md"},vue:{component:{data:function(){return{templateRender:null}},render:function(e){return this.templateRender?this.templateRender():e("div","Rendering")},created:function(){this.templateRender=n.render,this.$options.staticRenderFns=n.staticRenderFns}}}}}}]);